const cards=document.querySelectorAll(".business_cards_item");for(let e=0;e<cards.length;e++)cards[e].addEventListener("click",()=>{watchThatOpenedCardIsUnique(),cards[e].style.transition=".5s",cards[e].style.height="240px"});function watchThatOpenedCardIsUnique(){for(let e=0;e<cards.length;e++)cards[e].style.height="60px"}const maxCount=document.querySelector(".life__slider_inner").children.length,blockToMove=document.querySelector(".life__slider_inner");let sliderWidth=document.querySelector(".life__slider").clientWidth;const buttonPrev=document.querySelector(".btn_prev"),buttonNext=document.querySelector(".btn_next"),pseudo=document.querySelectorAll(".life__pseudo_item");let count=0;const zero=document.querySelector(".life__pseudo_item.zero"),first=document.querySelector(".life__pseudo_item.first"),second=document.querySelector(".life__pseudo_item.second"),third=document.querySelector(".life__pseudo_item.third"),fourth=document.querySelector(".life__pseudo_item.fourth"),interval=setInterval(component,3e3);function activateSlider(){640<=window.innerWidth&&clearInterval(interval)}function createPseudo(){for(let e=0;e<pseudo.length;e++){var t=maxCount-1,t=(sliderWidth-t)/maxCount;pseudo[e].style.width=t+"px"}}function component(){count>=maxCount-1&&(count=-1),count++,blockToMove.style.transform="translate(-"+count*sliderWidth+"px, 0)",watch(),blockToMove.style.transition=".7s",count>=maxCount-1&&(count=-1)}function buttonsLogic(){buttonNext.addEventListener("click",()=>{component()}),buttonPrev.addEventListener("click",()=>{-1===count&&(count=maxCount-1),--count<0&&(count=maxCount-1),blockToMove.style.transform="translate(-"+count*sliderWidth+"px, 0)",watch(),blockToMove.style.transition=".7s"})}function watch(){switch(count){case 0:activatePseudo(0);break;case 1:activatePseudo(1);break;case 2:activatePseudo(2);break;case 3:activatePseudo(3);break;case 4:activatePseudo(4)}}function activatePseudo(e){var t=[zero,first,second,third,fourth];for(let e=0;e<t.length;e++)t[e].style.backgroundColor="#000000",t[e].style.opacity="0.1";t[e].style.backgroundColor="#A30C33",t[e].style.opacity="1",t[e].style.transition=".75s"}window.addEventListener("resize",()=>{console.log(window.innerWidth),createPseudo(),activateSlider(),sliderWidth=document.querySelector(".life__slider").clientWidth}),activateSlider(),createPseudo(),buttonsLogic(),watch();const vostok=document.querySelectorAll(".d-vostok_point"),siberia=document.querySelectorAll(".siberia_point"),ural=document.querySelectorAll(".ural_point"),nord_west=document.querySelectorAll(".nord_west_point"),volga=document.querySelectorAll(".volga_point"),center=document.querySelectorAll(".center_point"),south=document.querySelectorAll(".south_point"),moscow=document.querySelectorAll(".moscow_point"),arrow=document.querySelector(".map__nav_arrow"),offices=document.querySelector(".map__nav_wrapper_left"),navigationBar=document.querySelector(".map__nav_wrapper_right"),map=document.querySelector(".map__earth"),officeList=document.querySelector(".map__list_wrapper"),locations=[...vostok,...siberia,...ural,...nord_west,...volga,...center,...south,...moscow],nav=document.querySelector(".map__nav_right_links").children;spyForClickNavigationLink(),spyForMouseMoveNavigationLink(),showMarksFromOfficeList();for(let e=0;e<offices.children.length;e++)offices.children[e].addEventListener("click",()=>{toggleDisableNavButtons(),reverseArrow(),changeMapOpacity(),toggleOfficesList()});function toggleDisableNavButtons(){for(let e=0;e<nav.length;e++)nav[e].classList.toggle("disabled")}function toggleOfficesList(){officeList.classList.toggle("hide")}function spyForClickNavigationLink(){clearAllMarksOnMap(),preventManyMarked();for(let e=0;e<nav.length;e++)nav[e].addEventListener("click",()=>{preventManyMarked(),clearAllMarksOnMap(),nav[e].classList.contains("disabled")||(nav[e].style.transition=".7s linear",nav[e].style.borderBottom="3px solid rgb(163, 12, 51)",showMarks(nav[e]))})}function spyForMouseMoveNavigationLink(){for(let e=0;e<nav.length;e++)nav[e].addEventListener("mouseover",()=>{""!==nav[e].style.borderBottom&&"3px solid white"!==nav[e].style.borderBottom||nav[e].classList.contains("disabled")||(nav[e].style.transition="1s linear",nav[e].style.borderBottom="3px solid rgb(163, 12, 50)")}),nav[e].addEventListener("mouseout",()=>{"3px solid rgb(163, 12, 50)"===nav[e].style.borderBottom&&(nav[e].style.transition="1s linear",nav[e].style.borderBottom="3px solid white")})}function clearAllMarksOnMap(){for(let e=0;e<locations.length;e++)locations[e].style.display="none"}function preventManyMarked(){for(let e=0;e<nav.length;e++)"3px solid rgb(163, 12, 51)"!==nav[e].style.borderBottom&&"3px solid rgb(163, 12, 50)"!==nav[e].style.borderBottom||(nav[e].style.borderBottom="3px solid white")}function showCities(t){for(let e=0;e<t.length;e++)t[e].style.display="block"}function showMarks(e){switch(e.innerHTML){case"Дальний Восток":showCities(vostok);break;case"Сибирь":showCities(siberia);break;case"Урал":showCities(ural);break;case"Волга":showCities(volga);break;case"Юг":showCities(south);break;case"Северо-Запад":showCities(nord_west);break;case"Центр":showCities(center);break;case"Москва":showCities(moscow);break;case"Все":showCities(locations)}}function reverseArrow(){"rotate(180deg)"===arrow.style.transform?(arrow.style.transform="rotate(360deg)",arrow.style.top="50%",arrow.style.transform="translate(0, -50%)"):(arrow.style.transform="rotate(180deg)",arrow.style.top="calc(50% - 10px)")}function changeMapOpacity(){navigationBar.classList.contains("menu_shadow")?(navigationBar.classList.toggle("menu_shadow_remove"),map.classList.toggle("menu_shadow_remove")):(navigationBar.classList.toggle("menu_shadow"),map.classList.toggle("menu_shadow"))}function showMarksFromOfficeList(){const e=document.querySelector(".map__list").children;for(let t=0;t<e.length;t++)e[t].addEventListener("click",()=>{clearAllMarksOnMap(),spyForClickNavigationLink(),showMarks(e[t].children[0]);for(let e=0;e<nav.length;e++)nav[t+1].style.transition="1s linear",nav[t+1].style.borderBottom="3px solid rgb(163, 12, 50)";480<window.innerWidth&&(changeMapOpacity(),reverseArrow(),toggleDisableNavButtons(),toggleOfficesList())})}const menuButtonsList=document.querySelector(".map__list").children,nav_block=document.querySelector(".map__nav"),map_block=document.querySelector(".map__earth");function watchClientWidth(){if(window.innerWidth<=480){for(let e=0;e<menuButtonsList.length;e++)hideMenu(menuButtonsList[e]),menuButtonsList[e].style.width="calc(30% - 15px)";for(let e=0;e<menuButtonsList.length;e++)menuButtonsList[e].children[0].addEventListener("click",()=>{closeAllMenu(),toggleVisible(menuButtonsList[e]),markMenuBuRedColor(menuButtonsList[e])})}else for(let e=0;e<menuButtonsList.length;e++)showMenu(menuButtonsList[e])}function toggleVisible(t){for(let e=0;e<t.children.length;e++)t.children[e].classList.toggle("hide")}function hideMenu(t){for(let e=0;e<t.children.length;e++)t.children[e].classList.add("hide")}function showMenu(t){for(let e=0;e<t.children.length;e++)t.children[e].classList.remove("hide")}function closeAllMenu(){for(let t=0;t<menuButtonsList.length;t++)for(let e=0;e<menuButtonsList[t].children.length;e++)menuButtonsList[t].children[e].classList.add("hide")}function markMenuBuRedColor(e){unMarkAll();e=e.children;e[0].style.color="#B01736",e[0].classList.add("active")}function unMarkAll(){for(let e=0;e<menuButtonsList.length;e++)menuButtonsList[e].children[0].style.color="#444444",menuButtonsList[e].children[0].classList.remove("active")}function watchNavBlockWidth(){nav_block.style.width=map_block.clientWidth+"px"}window.addEventListener("resize",()=>{watchClientWidth(),watchNavBlockWidth(),unMarkAll()}),watchClientWidth(),watchNavBlockWidth();